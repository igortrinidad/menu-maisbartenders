webpackJsonp([1],{228:function(t,a,e){e(567);var o=e(1)(e(555),e(578),"data-v-6c525212",null);t.exports=o.exports},555:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=e(2),s=e.n(o),n=e(3),i=(e(36),e(559)),r=e(4),l=e.n(r);e(37);a.default={name:"login",components:{mainHeader:l.a},data:function(){return{interactions:{showEmailLogin:!1,passwordHidden:!0},email:null,password:null,redirect:null}},computed:s()({},e.i(n.a)(["currentUser","isLogged","language"]),{translations:function(){return"en"===this.language?i.a:"pt"===this.language?i.b:void 0}}),mounted:function(){window.cordova&&openFB.init({appId:"262783620860879",tokenStore:localStorage})},methods:s()({},e.i(n.b)(["authSetToken","authSetUser","setLoading","setUserDrinkLikes"]),{handlePassword:function(){this.interactions.passwordHidden=!this.interactions.passwordHidden,this.interactions.passwordHidden?document.getElementById("login-password").type="password":document.getElementById("login-password").type="text"},login:function(){var t=this;t.setLoading({is_loading:!0,message:""}),this.$auth.login({url:"guest/auth/login",fetchUser:!0,data:{email:this.email,password:this.password},rememberMe:this.rememberMe,redirect:this.handleRedirect(),success:function(a){this.authSetToken(a.data.access_token),this.authSetUser(a.data.user),t.setLoading({is_loading:!1,message:""}),successNotify("","Login efetuado com sucesso.")},error:function(a){t.setLoading({is_loading:!1,message:""}),errorNotify("Ops!","Login ou senha inválidos. Dica: Tente pelo Facebook.");var e=localStorage.getItem("events");localStorage.clear(),localStorage.setItem("events",e),window.cordova&&window.cookies.clear()}})},facebookLogin:function(){var t=this;t.setLoading({is_loading:!0,message:""}),window.cordova&&openFB.login(function(a){"connected"===a.status?t.statusChangeCallback(a):(t.setLoading({is_loading:!1,message:""}),alert("Facebook login failed: "+a.error),window.cordova&&window.cookies.clear())},{scope:"public_profile,email,publish_actions"}),window.cordova||FB.login(function(a){t.statusChangeCallback(a)},{scope:"public_profile,email,publish_actions"})},statusChangeCallback:function(t){var a=this;"connected"===t.status?a.getUserInfo(t.authResponse.accessToken):(errorNotify("","É necessário fazer login para continuar."),a.setLoading({is_loading:!1,message:""}))},getUserInfo:function(t){var a=this;window.cordova&&openFB.api({path:"/v2.8/me",params:{access_token:t,fields:"id,name,first_name,last_name,email"},success:function(e){e.photo_url="https://graph.facebook.com/"+e.id+"/picture?type=normal",e.access_token=t,e.role="guest",a.socialLogin(e),a.setLoading({is_loading:!1,message:""})},error:a.errorHandler}),window.cordova||FB.api("/me",{fields:"name,first_name, last_name, email"},function(e){e.photo_url="https://graph.facebook.com/"+e.id+"/picture?type=normal",e.access_token=t,e.role="guest",a.socialLogin(e)})},socialLogin:function(t){var a=this;localStorage.setItem("provider","facebook"),a.setLoading({is_loading:!0,message:""}),a.$http.post("/auth/social",t).then(function(t){a.authSetToken(t.data.access_token),a.authSetUser(t.data.user),a.setLoading({is_loading:!1,message:""}),successNotify("","Login efetuado com sucesso."),a.getUserDrinkLikes(),a.$router.push(a.handleRedirect())}).catch(function(t){errorNotify("Ops!","Erro ao efetuar login."),a.setLoading({is_loading:!1,message:""});var e=localStorage.getItem("events");localStorage.clear(),localStorage.setItem("events",e),window.cordova&&window.cookies.clear()})},handleRedirect:function(){var t=this;return(t.$route.query.redirect_back?t.$route.query.redirect_back:t.$route.query.redirect)||"/"},errorHandler:function(t){that.setLoading({is_loading:!1,message:""}),errorNotify("",t.message);var a=localStorage.getItem("events");localStorage.clear(),localStorage.setItem("events",a),window.cordova&&window.cookies.clear()},getUserDrinkLikes:function(){var t=this;t.$http.get("/guest/drinkLikes").then(function(a){t.setUserDrinkLikes(a.data.likes)}).catch(function(t){console.log(t)})}})}},559:function(t,a,e){"use strict";e.d(a,"a",function(){return o}),e.d(a,"b",function(){return s});var o={title:"Login",message:"Save and share your favorite drinks with your friends.",labels:{email:"E-mail",password:"Password"},placeholders:{email:"Enter your e-mail",password:"Enter your password"},signup_message:"Don't have an account?",buttons:{login_email:"Login with e-mail",login_facebook:"Login with Facebook",login:"Login",signup:"Get started",go_home:"Go home"}},s={title:"Entrar",message:"Salve e compartilhe com os amigos seus drinks preferidos.",labels:{email:"E-mail",password:"Senha"},placeholders:{email:"Informe seu e-mail",password:"Informe sua senha"},signup_message:"Ainda não tem uma conta?",buttons:{login_email:"Entrar com e-mail",login_facebook:"Entrar com Facebook",login:"Entrar",signup:"Cadastre-se",go_home:"Voltar ao início"}}},561:function(t,a,e){a=t.exports=e(546)(),a.push([t.i,".text-selected[data-v-6c525212]{background-color:#fed136;font-size:22px}#contact[data-v-6c525212]{background-color:#f7f7f7}.btn[data-v-6c525212]:active{-webkit-transform:scale(.99);transform:scale(.99)}.input-icon[data-v-6c525212]{position:absolute;right:10px;top:41px;color:#6d6969;cursor:pointer;display:none}@media (max-width:768px){.input-icon[data-v-6c525212]{display:block}}","",{version:3,sources:["/Users/igortrindade/Code/menu-maisbartenders/src/modules/landing/auth/components/login.vue"],names:[],mappings:"AACA,gCACI,yBAA0B,AAC1B,cAAgB,CACnB,AACD,0BACI,wBAA0B,CAC7B,AACD,6BACI,6BAA+B,AACvB,oBAAuB,CAClC,AACD,6BACI,kBAAmB,AACnB,WAAY,AACZ,SAAU,AACV,cAAe,AACf,eAAgB,AAChB,YAAc,CACjB,AACD,yBACA,6BAA+B,aAAe,CAC7C,CACA",file:"login.vue",sourcesContent:["\n.text-selected[data-v-6c525212]{\n    background-color: #FED136;\n    font-size: 22px;\n}\n#contact[data-v-6c525212]{\n    background-color: #F7F7F7;\n}\n.btn[data-v-6c525212]:active{\n    -webkit-transform: scale(0.99);\n            transform: scale(0.99);\n}\n.input-icon[data-v-6c525212] {\n    position: absolute;\n    right: 10px;\n    top: 41px;\n    color: #6d6969;\n    cursor: pointer;\n    display: none;\n}\n@media (max-width: 768px) {\n.input-icon[data-v-6c525212] { display: block;\n}\n}\n"],sourceRoot:""}])},567:function(t,a,e){var o=e(561);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);e(547)("b2a7f3d8",o,!0)},578:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"first-container"},[e("main-header",{attrs:{title:t.translations.title}}),t._v(" "),e("div",{staticClass:"container"},[e("div",{staticClass:"svg-container"},[e("svg",{attrs:{width:"80px",height:"80px",viewBox:"0 0 90 90"}},[e("defs",[e("linearGradient",{attrs:{id:"linear",x1:"0%",y1:"0%",x2:"100%",y2:"0%"}},[e("stop",{attrs:{offset:"0%","stop-color":"#FB923B"}}),t._v(" "),e("stop",{attrs:{offset:"100%","stop-color":"#F66439"}})],1)],1),t._v(" "),e("g",{attrs:{transform:"translate(-2.7877853,62.500941)"}},[e("g",{attrs:{transform:"matrix(3.9793611,0,0,3.9793611,-3.2721775,-67.931684)"}},[e("path",{staticClass:"non-fill-xs animated",attrs:{stroke:"url(#linear)",d:"M 14.585786,11 12.292893,8.7071068 c -0.390524,-0.3905243 -0.390524,-1.0236893 0,-1.4142136 0.390524,-0.3905243 1.02369,-0.3905243 1.414214,0 l 4,3.9999998 c 0.390524,0.390524 0.390524,1.02369 0,1.414214 l -4,4 c -0.390524,0.390524 -1.02369,0.390524 -1.414214,0 -0.390524,-0.390525 -0.390524,-1.02369 0,-1.414214 L 14.585786,13 H 7 C 6.4477152,13 6,12.552285 6,12 6,11.447715 6.4477152,11 7,11 Z M 3.428327,6.8496192 C 6.2728037,2.115615 12.416377,0.58385025 17.150381,3.428327 21.884385,6.2728037 23.41615,12.416377 20.571673,17.150381 17.727196,21.884385 11.583624,23.41615 6.8496192,20.571673 5.4312948,19.719458 4.2684755,18.550512 3.4333679,17.162236 3.148683,16.688978 3.3015515,16.074544 3.7748093,15.789859 4.2480671,15.505175 4.862501,15.658043 5.147186,16.131301 5.814698,17.240967 6.7434521,18.174615 7.8796954,18.857338 11.666899,21.13292 16.581757,19.907508 18.857338,16.120305 21.13292,12.333101 19.907508,7.418243 16.120305,5.1426616 12.333101,2.8670802 7.418243,4.092492 5.1426616,7.8796954 4.8582139,8.3530958 4.2438566,8.5062723 3.7704562,8.2218246 3.2970558,7.9373769 3.1438793,7.3230197 3.428327,6.8496192 Z"}})])])])]),t._v(" "),e("h4",{staticClass:"title-section m-b-20 m-t-10 f-20"},[t._v(t._s(t.translations.message))]),t._v(" "),e("div",{staticClass:"text-center m-b-10"},[e("button",{staticClass:"btn btn-mb-facebook btn-block m-b-10",on:{click:function(a){t.facebookLogin()}}},[t._v("\n                 "+t._s(t.translations.buttons.login_facebook)+"\n             ")]),t._v(" "),e("button",{staticClass:"btn btn-mb-info btn-block",on:{click:function(a){t.interactions.showEmailLogin=!0}}},[t._v("\n                 "+t._s(t.translations.buttons.login_email)+"\n             ")])])]),t._v(" "),e("div",{staticClass:"container-colored",class:{"bottom-fixed":!t.interactions.showEmailLogin}},[t.$auth.ready()?e("div",{attrs:{id:"login"}},[e("div",{staticClass:"container"},[t.interactions.showEmailLogin?e("div",{staticClass:"card"},[e("div",{staticClass:"card-body card-padding"},[e("div",{staticClass:"row m-t-20",on:{keydown:function(a){if(!("button"in a)&&t._k(a.keyCode,"enter",13,a.key))return null;t.login(a)}}},[e("div",{staticClass:"col-md-6 col-md-offset-3 col-xs-12"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"login-email"}},[t._v(t._s(t.translations.labels.email))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{id:"login-email",type:"email",placeholder:t.translations.placeholders.email},domProps:{value:t.email},on:{input:function(a){a.target.composing||(t.email=a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-md-6 col-md-offset-3 col-xs-12"},[e("div",{staticClass:"form-group",staticStyle:{position:"relative"}},[e("label",{attrs:{for:"login-password"}},[t._v(t._s(t.translations.labels.password))]),t._v(" "),e("i",{staticClass:"input-icon fa",class:{"fa-eye":t.interactions.passwordHidden,"fa-eye-slash":!t.interactions.passwordHidden},on:{click:function(a){t.handlePassword()}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{id:"login-password",type:"password",placeholder:t.translations.placeholders.password},domProps:{value:t.password},on:{input:function(a){a.target.composing||(t.password=a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-md-6 col-md-offset-3 col-xs-12"},[e("div",{staticClass:"form-group text-center"},[e("button",{staticClass:"btn btn-mb-primary",attrs:{disabled:!t.email||!t.password},on:{click:function(a){a.preventDefault(),t.login(a)}}},[t._v(t._s(t.translations.buttons.login))])])])])])]):t._e(),t._v(" "),e("div",{staticClass:"card m-b-0"},[e("div",{staticClass:"card-body card-padding"},[e("div",{staticClass:"text-center"},[e("h5",{staticClass:"card-title"},[t._v(t._s(t.translations.signup_message))]),t._v(" "),e("router-link",{staticClass:"btn btn-xs btn-mb-primary",attrs:{tag:"button",to:{name:"landing.auth.signup"},exact:""}},[t._v(t._s(t.translations.buttons.signup))]),t._v(" "),e("router-link",{staticClass:"btn btn-xs btn-mb-primary",attrs:{tag:"button",to:{name:"landing.home.show"},exact:""}},[t._v(t._s(t.translations.buttons.go_home))])],1)])])])]):t._e()])],1)},staticRenderFns:[]}}});
//# sourceMappingURL=1.18518d38938cd7b2f469.js.map