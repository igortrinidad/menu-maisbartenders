webpackJsonp([1],{241:function(t,o,a){a(564);var e=a(1)(a(553),a(576),"data-v-8544160c",null);t.exports=e.exports},553:function(t,o,a){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var e=a(46),s=a.n(e),n=a(2),i=a.n(n),r=a(3),c=(a(44),a(5)),l=a.n(c);a(45);o.default={name:"signup",components:{mainHeader:l.a},data:function(){return{interactions:{showEmailLogin:!1},guest:{name:"",last_name:"",email:"",password:"",password_confirmation:"",photo:null}}},computed:i()({},a.i(r.a)(["currentUser","isLogged"])),mounted:function(){window.cordova&&openFB.init({appId:"262783620860879"})},methods:i()({},a.i(r.c)(["authSetToken","authSetUser","setLoading"]),{signup:function(){var t=this,o=new FormData;t.setLoading({is_loading:!0,message:""}),s()(t.guest).map(function(a,e){o.append(a,t.guest[a])}),t.$http.post("/guest/create",o,{headers:{"Content-Type":"multipart/form-data"}}).then(function(o){successNotify("","Cadastro realizado com sucesso, faça o login."),t.$router.push({path:"/login"}),t.setLoading({is_loading:!1,message:""})}).catch(function(o){errorNotify("","Houve um erro ao realizar o cadastro."),t.setLoading({is_loading:!1,message:""})})},loadPhoto:function(t){this.guest.photo=t.target.files[0]},facebookLogin:function(){var t=this;t.setLoading({is_loading:!0,message:""}),window.cordova&&openFB.login(function(o){if("connected"===o.status)t.statusChangeCallback(o);else{alert("Facebook login failed: "+o.error);var a=localStorage.getItem("events");localStorage.clear(),localStorage.setItem("events",a),window.cordova&&window.cookies.clear()}},{scope:"public_profile,email"}),window.cordova||FB.login(function(o){t.statusChangeCallback(o)},{scope:"public_profile,email,publish_actions"})},statusChangeCallback:function(t){var o=this;"connected"===t.status?o.getUserInfo(t.authResponse.accessToken):errorNotify("","É necessário fazer login para continuar."),o.setLoading({is_loading:!1,message:""})},getUserInfo:function(t){var o=this;window.cordova&&openFB.api({path:"/v2.8/me",params:{access_token:t,fields:"id,name,first_name,last_name,email"},success:function(a){a.photo_url="https://graph.facebook.com/"+a.id+"/picture?type=normal",a.access_token=t,a.role="guest",o.socialLogin(a)},error:o.errorHandler}),window.cordova||FB.api("/me",{fields:"name,first_name, last_name, email"},function(a){a.photo_url="https://graph.facebook.com/"+a.id+"/picture?type=normal",a.access_token=t,a.role="guest",o.socialLogin(a)})},socialLogin:function(t){var o=this;localStorage.setItem("provider","facebook"),o.$http.post("/auth/social",t).then(function(t){o.authSetToken(t.data.access_token),o.authSetUser(t.data.user),successNotify("","Login efetuado com sucesso."),o.setLoading({is_loading:!1,message:""}),o.$router.push(o.$route.query.redirect?o.$route.query.redirect:"/")}).catch(function(t){console.log(t),errorNotify("Ops!","Erro ao efetuar login.");var o=localStorage.getItem("events");localStorage.clear(),localStorage.setItem("events",o),window.cordova&&window.cookies.clear()})},errorHandler:function(t){that.setLoading({is_loading:!1,message:""}),errorNotify("",t.message),localStorage.clear(),window.cordova&&window.cookies.clear()}})}},558:function(t,o,a){o=t.exports=a(541)(),o.push([t.i,".text-selected[data-v-8544160c]{background-color:#fed136;font-size:22px}#contact[data-v-8544160c]{background-color:#f7f7f7}","",{version:3,sources:["/Users/igortrindade/Code/menu-maisbartenders/src/modules/landing/auth/components/signup.vue"],names:[],mappings:"AACA,gCACI,yBAA0B,AAC1B,cAAgB,CACnB,AACD,0BACI,wBAA0B,CAC7B",file:"signup.vue",sourcesContent:["\n.text-selected[data-v-8544160c] {\n    background-color: #FED136;\n    font-size: 22px;\n}\n#contact[data-v-8544160c] {\n    background-color: #F7F7F7;\n}\n"],sourceRoot:""}])},564:function(t,o,a){var e=a(558);"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);a(542)("21eae7cc",e,!0)},576:function(t,o){t.exports={render:function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("div",{staticClass:"first-container"},[a("main-header",{attrs:{title:"Cadastre-se"}}),t._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"svg-container"},[a("svg",{attrs:{viewBox:"0 0 90 90"}},[a("defs",[a("linearGradient",{attrs:{id:"linear",x1:"0%",y1:"0%",x2:"100%",y2:"0%"}},[a("stop",{attrs:{offset:"0%","stop-color":"#FB923B"}}),t._v(" "),a("stop",{attrs:{offset:"100%","stop-color":"#F66439"}})],1)],1),t._v(" "),a("g",{attrs:{transform:"translate(-2.7877853,62.500941)"}},[a("g",{attrs:{transform:"matrix(3.9793611,0,0,3.9793611,-3.2721775,-67.931684)"}},[a("path",{staticClass:"non-fill-xs animated",attrs:{stroke:"url(#linear)",d:"M 14.585786,11 12.292893,8.7071068 c -0.390524,-0.3905243 -0.390524,-1.0236893 0,-1.4142136 0.390524,-0.3905243 1.02369,-0.3905243 1.414214,0 l 4,3.9999998 c 0.390524,0.390524 0.390524,1.02369 0,1.414214 l -4,4 c -0.390524,0.390524 -1.02369,0.390524 -1.414214,0 -0.390524,-0.390525 -0.390524,-1.02369 0,-1.414214 L 14.585786,13 H 7 C 6.4477152,13 6,12.552285 6,12 6,11.447715 6.4477152,11 7,11 Z M 3.428327,6.8496192 C 6.2728037,2.115615 12.416377,0.58385025 17.150381,3.428327 21.884385,6.2728037 23.41615,12.416377 20.571673,17.150381 17.727196,21.884385 11.583624,23.41615 6.8496192,20.571673 5.4312948,19.719458 4.2684755,18.550512 3.4333679,17.162236 3.148683,16.688978 3.3015515,16.074544 3.7748093,15.789859 4.2480671,15.505175 4.862501,15.658043 5.147186,16.131301 5.814698,17.240967 6.7434521,18.174615 7.8796954,18.857338 11.666899,21.13292 16.581757,19.907508 18.857338,16.120305 21.13292,12.333101 19.907508,7.418243 16.120305,5.1426616 12.333101,2.8670802 7.418243,4.092492 5.1426616,7.8796954 4.8582139,8.3530958 4.2438566,8.5062723 3.7704562,8.2218246 3.2970558,7.9373769 3.1438793,7.3230197 3.428327,6.8496192 Z"}})])])])]),t._v(" "),a("h4",{staticClass:"title-section m-b-20 m-t-10"},[t._v("Salve e compartilhe com os amigos seus drinks preferidos.")]),t._v(" "),a("div",{staticClass:"text-center m-b-10"},[a("button",{staticClass:"btn btn-mb-facebook btn-block m-b-10",on:{click:function(o){t.facebookLogin()}}},[t._v("\n                Cadastrar Facebook\n            ")]),t._v(" "),a("button",{staticClass:"btn btn-mb-info btn-block",on:{click:function(o){t.interactions.showEmailLogin=!0}}},[t._v("\n                Cadastrar Email\n            ")])])]),t._v(" "),a("div",{staticClass:"container-colored",class:{"bottom-fixed":!t.interactions.showEmailLogin}},[t.$auth.ready()?a("div",{attrs:{id:"login"}},[a("div",{staticClass:"container"},[t.interactions.showEmailLogin?a("div",{staticClass:"card"},[a("div",{staticClass:"card-body card-padding"},[a("div",{staticClass:"row m-t-20"},[a("div",{staticClass:"col-md-6 col-md-offset-3 col-xs-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"signup-name"}},[t._v("Nome")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.guest.name,expression:"guest.name"}],staticClass:"form-control",attrs:{id:"signup-name",placeholder:"Nome"},domProps:{value:t.guest.name},on:{input:function(o){o.target.composing||t.$set(t.guest,"name",o.target.value)}}})])]),t._v(" "),a("div",{staticClass:"col-md-6 col-md-offset-3 col-xs-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"signup-lastname"}},[t._v("Sobrenome")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.guest.last_name,expression:"guest.last_name"}],staticClass:"form-control",attrs:{id:"signup-lastname",placeholder:"Sobrenome"},domProps:{value:t.guest.last_name},on:{input:function(o){o.target.composing||t.$set(t.guest,"last_name",o.target.value)}}})])]),t._v(" "),a("div",{staticClass:"col-md-6 col-md-offset-3 col-xs-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"signup-email"}},[t._v("Email")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.guest.email,expression:"guest.email"}],staticClass:"form-control",attrs:{id:"signup-email",placeholder:"Email"},domProps:{value:t.guest.email},on:{input:function(o){o.target.composing||t.$set(t.guest,"email",o.target.value)}}})])]),t._v(" "),a("div",{staticClass:"col-md-6 col-md-offset-3 col-xs-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"signup-phone"}},[t._v("Telefone")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.guest.phone,expression:"guest.phone"}],staticClass:"form-control",attrs:{id:"signup-phone",placeholder:"Telefone"},domProps:{value:t.guest.phone},on:{input:function(o){o.target.composing||t.$set(t.guest,"phone",o.target.value)}}})])]),t._v(" "),a("div",{staticClass:"col-md-6 col-md-offset-3 col-xs-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"signup-password"}},[t._v("Senha")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.guest.password,expression:"guest.password"}],staticClass:"form-control",attrs:{id:"signup-password",type:"password",placeholder:"Senha"},domProps:{value:t.guest.password},on:{input:function(o){o.target.composing||t.$set(t.guest,"password",o.target.value)}}})])]),t._v(" "),a("div",{staticClass:"col-md-6 col-md-offset-3 col-xs-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"signup-confirm"}},[t._v("Confirmar senha")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.guest.password_confirmation,expression:"guest.password_confirmation"}],staticClass:"form-control",attrs:{id:"signup-confirm",type:"password",placeholder:"Confirmar senha"},domProps:{value:t.guest.password_confirmation},on:{input:function(o){o.target.composing||t.$set(t.guest,"password_confirmation",o.target.value)}}})])]),t._v(" "),a("div",{staticClass:"col-md-6 col-md-offset-3 col-xs-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"signup-photo"}},[t._v("Foto")]),t._v(" "),a("input",{staticClass:"form-control",attrs:{id:"signup-photo",type:"file"},on:{change:t.loadPhoto}})])]),t._v(" "),a("div",{staticClass:"col-md-6 col-md-offset-3 col-xs-12"},[a("div",{staticClass:"form-group text-center"},[a("button",{staticClass:"btn btn-mb-primary",on:{click:function(o){o.preventDefault(),t.signup()}}},[t._v("Cadastrar")])])]),t._v(" "),a("hr")])])]):t._e(),t._v(" "),a("div",{staticClass:"card m-b-0"},[a("div",{staticClass:"card-body card-padding"},[a("div",{staticClass:"text-center"},[a("h5",{staticClass:"card-title"},[t._v("Já possui cadastro?")]),t._v(" "),a("router-link",{staticClass:"btn btn-xs btn-mb-primary",attrs:{tag:"button",to:{name:"landing.auth.login"}}},[t._v("Faça login")]),t._v(" "),a("router-link",{staticClass:"btn btn-xs btn-mb-primary",attrs:{tag:"button",to:{name:"landing.home.show"},exact:""}},[t._v("Voltar para home")])],1)])])])]):t._e()])],1)},staticRenderFns:[]}}});
//# sourceMappingURL=1.1c0d3f9fb1e3f8002715.js.map