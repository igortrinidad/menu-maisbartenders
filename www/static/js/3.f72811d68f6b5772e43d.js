webpackJsonp([3],{237:function(t,e,a){a(559);var o=a(1)(a(549),a(570),"data-v-6c525212",null);t.exports=o.exports},549:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(2),s=a.n(o),n=a(3),i=(a(44),a(5)),r=a.n(i);a(45);e.default={name:"login",components:{mainHeader:r.a},data:function(){return{interactions:{showEmailLogin:!1,passwordHidden:!0},email:null,password:null,redirect:null}},computed:s()({},a.i(n.a)(["currentUser","isLogged"])),mounted:function(){window.cordova&&openFB.init({appId:"262783620860879",tokenStore:localStorage})},methods:s()({},a.i(n.c)(["authSetToken","authSetUser","setLoading","setUserDrinkLikes"]),{handlePassword:function(){this.interactions.passwordHidden=!this.interactions.passwordHidden,this.interactions.passwordHidden?document.getElementById("login-password").type="password":document.getElementById("login-password").type="text"},login:function(){var t=this;t.setLoading({is_loading:!0,message:""}),this.$auth.login({url:"guest/auth/login",fetchUser:!0,data:{email:this.email,password:this.password},rememberMe:this.rememberMe,redirect:this.handleRedirect(),success:function(e){this.authSetToken(e.data.access_token),this.authSetUser(e.data.user),t.setLoading({is_loading:!1,message:""}),successNotify("","Login efetuado com sucesso.")},error:function(e){t.setLoading({is_loading:!1,message:""}),errorNotify("Ops!","Login ou senha inválidos. Dica: Tente pelo Facebook.");var a=localStorage.getItem("events");localStorage.clear(),localStorage.setItem("events",a),window.cordova&&window.cookies.clear()}})},facebookLogin:function(){var t=this;t.setLoading({is_loading:!0,message:""}),window.cordova&&openFB.login(function(e){"connected"===e.status?t.statusChangeCallback(e):(t.setLoading({is_loading:!1,message:""}),alert("Facebook login failed: "+e.error),window.cordova&&window.cookies.clear())},{scope:"public_profile,email,publish_actions"}),window.cordova||FB.login(function(e){t.statusChangeCallback(e)},{scope:"public_profile,email,publish_actions"})},statusChangeCallback:function(t){var e=this;"connected"===t.status?e.getUserInfo(t.authResponse.accessToken):(errorNotify("","É necessário fazer login para continuar."),e.setLoading({is_loading:!1,message:""}))},getUserInfo:function(t){var e=this;window.cordova&&openFB.api({path:"/v2.8/me",params:{access_token:t,fields:"id,name,first_name,last_name,email"},success:function(a){a.photo_url="https://graph.facebook.com/"+a.id+"/picture?type=normal",a.access_token=t,a.role="guest",e.socialLogin(a),e.setLoading({is_loading:!1,message:""})},error:e.errorHandler}),window.cordova||FB.api("/me",{fields:"name,first_name, last_name, email"},function(a){a.photo_url="https://graph.facebook.com/"+a.id+"/picture?type=normal",a.access_token=t,a.role="guest",e.socialLogin(a)})},socialLogin:function(t){var e=this;localStorage.setItem("provider","facebook"),e.setLoading({is_loading:!0,message:""}),e.$http.post("/auth/social",t).then(function(t){e.authSetToken(t.data.access_token),e.authSetUser(t.data.user),e.setLoading({is_loading:!1,message:""}),successNotify("","Login efetuado com sucesso."),e.getUserDrinkLikes(),e.$router.push(e.handleRedirect())}).catch(function(t){errorNotify("Ops!","Erro ao efetuar login."),e.setLoading({is_loading:!1,message:""});var a=localStorage.getItem("events");localStorage.clear(),localStorage.setItem("events",a),window.cordova&&window.cookies.clear()})},handleRedirect:function(){var t=this;return(t.$route.query.redirect_back?t.$route.query.redirect_back:t.$route.query.redirect)||"/"},errorHandler:function(t){that.setLoading({is_loading:!1,message:""}),errorNotify("",t.message);var e=localStorage.getItem("events");localStorage.clear(),localStorage.setItem("events",e),window.cordova&&window.cookies.clear()},getUserDrinkLikes:function(){var t=this;t.$http.get("/guest/drinkLikes").then(function(e){t.setUserDrinkLikes(e.data.likes)}).catch(function(t){console.log(t)})}})}},553:function(t,e,a){e=t.exports=a(540)(),e.push([t.i,".text-selected[data-v-6c525212]{background-color:#fed136;font-size:22px}#contact[data-v-6c525212]{background-color:#f7f7f7}.btn[data-v-6c525212]:active{-webkit-transform:scale(.99);transform:scale(.99)}.input-icon[data-v-6c525212]{position:absolute;right:10px;top:41px;color:#6d6969;cursor:pointer;display:none}@media (max-width:768px){.input-icon[data-v-6c525212]{display:block}}","",{version:3,sources:["/Users/igortrindade/Code/menu-maisbartenders/src/modules/landing/auth/components/login.vue"],names:[],mappings:"AACA,gCACI,yBAA0B,AAC1B,cAAgB,CACnB,AACD,0BACI,wBAA0B,CAC7B,AACD,6BACI,6BAA+B,AACvB,oBAAuB,CAClC,AACD,6BACI,kBAAmB,AACnB,WAAY,AACZ,SAAU,AACV,cAAe,AACf,eAAgB,AAChB,YAAc,CACjB,AACD,yBACA,6BAA+B,aAAe,CAC7C,CACA",file:"login.vue",sourcesContent:["\n.text-selected[data-v-6c525212]{\n    background-color: #FED136;\n    font-size: 22px;\n}\n#contact[data-v-6c525212]{\n    background-color: #F7F7F7;\n}\n.btn[data-v-6c525212]:active{\n    -webkit-transform: scale(0.99);\n            transform: scale(0.99);\n}\n.input-icon[data-v-6c525212] {\n    position: absolute;\n    right: 10px;\n    top: 41px;\n    color: #6d6969;\n    cursor: pointer;\n    display: none;\n}\n@media (max-width: 768px) {\n.input-icon[data-v-6c525212] { display: block;\n}\n}\n"],sourceRoot:""}])},559:function(t,e,a){var o=a(553);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(541)("b2a7f3d8",o,!0)},570:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"first-container"},[a("main-header",{attrs:{title:"Login"}}),t._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"svg-container"},[a("svg",{attrs:{viewBox:"0 0 90 90"}},[a("defs",[a("linearGradient",{attrs:{id:"linear",x1:"0%",y1:"0%",x2:"100%",y2:"0%"}},[a("stop",{attrs:{offset:"0%","stop-color":"#FB923B"}}),t._v(" "),a("stop",{attrs:{offset:"100%","stop-color":"#F66439"}})],1)],1),t._v(" "),a("g",{attrs:{transform:"translate(-2.7877853,62.500941)"}},[a("g",{attrs:{transform:"matrix(3.9793611,0,0,3.9793611,-3.2721775,-67.931684)"}},[a("path",{staticClass:"non-fill-xs animated",attrs:{stroke:"url(#linear)",d:"M 14.585786,11 12.292893,8.7071068 c -0.390524,-0.3905243 -0.390524,-1.0236893 0,-1.4142136 0.390524,-0.3905243 1.02369,-0.3905243 1.414214,0 l 4,3.9999998 c 0.390524,0.390524 0.390524,1.02369 0,1.414214 l -4,4 c -0.390524,0.390524 -1.02369,0.390524 -1.414214,0 -0.390524,-0.390525 -0.390524,-1.02369 0,-1.414214 L 14.585786,13 H 7 C 6.4477152,13 6,12.552285 6,12 6,11.447715 6.4477152,11 7,11 Z M 3.428327,6.8496192 C 6.2728037,2.115615 12.416377,0.58385025 17.150381,3.428327 21.884385,6.2728037 23.41615,12.416377 20.571673,17.150381 17.727196,21.884385 11.583624,23.41615 6.8496192,20.571673 5.4312948,19.719458 4.2684755,18.550512 3.4333679,17.162236 3.148683,16.688978 3.3015515,16.074544 3.7748093,15.789859 4.2480671,15.505175 4.862501,15.658043 5.147186,16.131301 5.814698,17.240967 6.7434521,18.174615 7.8796954,18.857338 11.666899,21.13292 16.581757,19.907508 18.857338,16.120305 21.13292,12.333101 19.907508,7.418243 16.120305,5.1426616 12.333101,2.8670802 7.418243,4.092492 5.1426616,7.8796954 4.8582139,8.3530958 4.2438566,8.5062723 3.7704562,8.2218246 3.2970558,7.9373769 3.1438793,7.3230197 3.428327,6.8496192 Z"}})])])])]),t._v(" "),a("h4",{staticClass:"title-section m-b-20 m-t-10"},[t._v("Salve e compartilhe com os amigos seus drinks preferidos.")]),t._v(" "),a("div",{staticClass:"text-center m-b-10"},[a("button",{staticClass:"btn btn-mb-facebook btn-block m-b-10",on:{click:function(e){t.facebookLogin()}}},[t._v("\n                 Login Facebook\n             ")]),t._v(" "),a("button",{staticClass:"btn btn-mb-info btn-block",on:{click:function(e){t.interactions.showEmailLogin=!0}}},[t._v("\n                 Login Email\n             ")])])]),t._v(" "),a("div",{staticClass:"container-colored",class:{"bottom-fixed":!t.interactions.showEmailLogin}},[t.$auth.ready()?a("div",{attrs:{id:"login"}},[a("div",{staticClass:"container"},[t.interactions.showEmailLogin?a("div",{staticClass:"card"},[a("div",{staticClass:"card-body card-padding"},[a("div",{staticClass:"row m-t-20",on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.login(e)}}},[a("div",{staticClass:"col-md-6 col-md-offset-3 col-xs-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"login-email"}},[t._v("Email")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{id:"login-email",type:"email",placeholder:"Informe seu e-mail"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"col-md-6 col-md-offset-3 col-xs-12"},[a("div",{staticClass:"form-group",staticStyle:{position:"relative"}},[a("label",{attrs:{for:"login-password"}},[t._v("Senha")]),t._v(" "),a("i",{staticClass:"input-icon fa",class:{"fa-eye":t.interactions.passwordHidden,"fa-eye-slash":!t.interactions.passwordHidden},on:{click:function(e){t.handlePassword()}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{id:"login-password",type:"password",placeholder:"Informe sua senha"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"col-md-6 col-md-offset-3 col-xs-12"},[a("div",{staticClass:"form-group text-center"},[a("button",{staticClass:"btn btn-mb-primary",attrs:{disabled:!t.email||!t.password},on:{click:function(e){e.preventDefault(),t.login(e)}}},[t._v("Login")])])])])])]):t._e(),t._v(" "),a("div",{staticClass:"card m-b-0"},[a("div",{staticClass:"card-body card-padding"},[a("div",{staticClass:"text-center"},[a("h5",{staticClass:"card-title"},[t._v("Não possui cadastro?")]),t._v(" "),a("router-link",{staticClass:"btn btn-xs btn-mb-primary",attrs:{tag:"button",to:{name:"landing.auth.signup"},exact:""}},[t._v("Cadastre-se aqui")]),t._v(" "),a("router-link",{staticClass:"btn btn-xs btn-mb-primary",attrs:{tag:"button",to:{name:"landing.home.show"},exact:""}},[t._v("Voltar para home")])],1)])])])]):t._e()])],1)},staticRenderFns:[]}}});
//# sourceMappingURL=3.f72811d68f6b5772e43d.js.map